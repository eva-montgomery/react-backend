(this["webpackJsonpreact-project"]=this["webpackJsonpreact-project"]||[]).push([[0],{109:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),l=n(24),i=n.n(l),c=(n(67),n(8)),s=n(9),o=n(11),u=n(10),m=n(12),p=(n(68),n(16)),d=n(27),h=n(15),f=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={collapseID:""},n.toggleCollapse=function(e){return function(){n.setState((function(t){return{collapseID:t.collapseID!==e?e:""}}))}},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return console.log(this.props.loginStatus.isLoggedIn),r.a.createElement("div",{className:"header"},r.a.createElement(h.d,null,r.a.createElement(h.h,{color:"light-blue lighten-4",style:{marginTop:"10px"},light:!0},r.a.createElement(h.d,null,r.a.createElement(h.i,null,"It's Wine-O-Clock"),r.a.createElement(h.k,{onClick:this.toggleCollapse("navbarCollapse1")}),r.a.createElement(h.c,{id:"navbarCollapse1",isOpen:this.state.collapseID,navbar:!0},this.props.loginStatus.isLoggedIn?r.a.createElement(h.j,{left:!0},r.a.createElement(h.f,{active:!0},r.a.createElement(h.g,{to:"/home"},"Home")),r.a.createElement(h.f,null,r.a.createElement(h.g,{to:"/mywines"},"My rated wines")),r.a.createElement(h.f,null,r.a.createElement(h.g,{to:"/wines"},"All rated wines")),r.a.createElement(h.f,null,r.a.createElement(h.g,{to:"/favorites"},"My Favorites")),r.a.createElement(h.f,null,r.a.createElement(h.g,{to:"/logout"},"Logout"))):r.a.createElement(h.j,{left:!0},r.a.createElement(h.f,null,r.a.createElement(h.g,{to:"/"},"Login"),r.a.createElement(h.g,{to:"/signup"},"Sign up"))))))))}}]),t}(a.Component);var w=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("div",null," Questions? E-Mail me ",r.a.createElement("a",{href:"mailto:eva.m.montgomery@gmail.com"},"here!")),r.a.createElement("a",{href:"https://evamontgomery.net",target:"_blank"},"Visit my portfolio!"),r.a.createElement("div",null,"\xa9 2020 Eva Montgomery. All rights reserved"))},g=n(6);var v=Object(g.b)((function(e){return console.log(e.user),{loginStatus:e.user}}),null)(f),E=n(3),b=n.n(E),y=n(5),_=n(4),S=n.n(_),O=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e)))._handleSubmit=function(e){e.preventDefault(),console.log(n.state),n.props.handleSubmit(n.state),n.setState({email:"",password:""})},n._handleEmail=function(e){n.setState({email:e.target.value})},n._handlePassword=function(e){n.setState({password:e.target.value})},n.state={email:"",password:""},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"main-content"},r.a.createElement("h3",null,"Are you a Wine Lover?"),r.a.createElement("br",null),r.a.createElement("p",null,"Do you ever go to the grocery store and stand in the wine section, not remembering if you have ever tried a specific wine before and if you liked it or not?"," "),r.a.createElement("p",null,"You are not alone! "),r.a.createElement("p",null," ","Therefore, I present you Wine-O-Clock! Login or create an account, to add the wines you tried and give them a wine-rating from 1-5, so every time you go to the store you can look in your app and check if you have already tried this wine!"),r.a.createElement("h4",null,"And remember: It's Wine-O-Clock somewhere! Cheers!")),r.a.createElement("div",{className:"login-form-container"},r.a.createElement("div",{className:"login-box"},r.a.createElement("form",{onSubmit:this._handleSubmit},r.a.createElement("input",{className:"login-input",onChange:this._handleEmail,value:this.state.email,placeholder:"E-Mail"}),r.a.createElement("input",{type:"password",className:"login-input",onChange:this._handlePassword,value:this.state.password,placeholder:"Password"})," ",r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Sign in",className:"login-submit"}),r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement("div",null,"Don't have an account?"," ",r.a.createElement(p.b,{to:"/signup",id:"signup"},"Sign up here")))),1==this.props.loginStatus.isLoggedIn?r.a.createElement(d.a,{to:"/home"}):""))}}]),t}(r.a.Component);function j(e){return{type:"GET_PERSONAL_WINES",payload:{wines:e}}}function N(e,t){return console.log("in action del wine",e),{type:"DEL_WINE",payload:{winelist:e,index:t}}}function k(e){return{type:"RESULTS",payload:{wines:e}}}function C(e){return{type:"MY_RESULTS",payload:{wines:e}}}var x=Object(g.b)((function(e){return console.log(e.user),{loginStatus:e.user}}),(function(e){return{handleSubmit:function(){var t=Object(y.a)(b.a.mark((function t(n){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(n),t.next=3,S()({method:"post",url:"/api/login",data:{email:n.email,password:n.password}}).then((function(e){return e.data}));case 3:a=t.sent,console.log(a),a.success&&e({type:"LOGIN"});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}))(O),L=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e)))._handleSubmit=function(e){e.preventDefault(),console.log(n.state),n.props.handleSubmit(n.state),n.setState({email:"",password:"",first_name:"",last_name:""})},n._handleEmail=function(e){n.setState({email:e.target.value})},n._handlePassword=function(e){n.setState({password:e.target.value})},n._handleFirstName=function(e){n.setState({first_name:e.target.value})},n._handleLastName=function(e){n.setState({last_name:e.target.value})},n.state={email:"",password:"",first_name:"",last_name:""},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return console.log(this.props),r.a.createElement("div",null,r.a.createElement("div",{className:"main-content"},r.a.createElement("h3",null,"Are you a Wine Lover?"),r.a.createElement("br",null),r.a.createElement("p",null,"Do you ever go to the grocery store and stand in the wine section, not remembering if you have ever tried a specific wine before and if you liked it or not? "),r.a.createElement("p",null,"You are not alone!  "),r.a.createElement("p",null," Therefore, I present you Wine-O-Clock! Login or create an account, to add the wines you tried and give them a wine-rating from 1-5, so every time you go to the store you can look in your app and check if you have already tried this wine!"),r.a.createElement("h4",null,"And remember: It's Wine-O-Clock somewhere! Cheers!")," "),r.a.createElement("div",{className:"login-form-container"},r.a.createElement("div",{className:"login-box"},r.a.createElement("form",{onSubmit:this._handleSubmit},r.a.createElement("input",{className:"login-input",onChange:this._handleEmail,value:this.state.email,placeholder:"E-Mail"}),r.a.createElement("input",{type:"password",className:"login-input",onChange:this._handlePassword,value:this.state.password,placeholder:"Password"}),r.a.createElement("input",{className:"login-input",onChange:this._handleFirstName,value:this.state.first_name,placeholder:"First Name"}),r.a.createElement("input",{className:"login-input",onChange:this._handleLastName,value:this.state.last_name,placeholder:"Last Name"}),"          ",r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Sign Up",className:"login-submit"}),r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement("div",null,"Already have an account? ",r.a.createElement("a",{href:"/",id:"login"},"Login here")),this.props.isUserTaken&&r.a.createElement("div",null,"User Taken"))),this.props.signUpStatus&&r.a.createElement(d.a,{to:"/home"})))}}]),t}(r.a.Component);var I=Object(g.b)((function(e){return{signUpStatus:e.user.didSignup,isUserTaken:e.user.isUserTaken}}),(function(e){return{handleSubmit:function(){var t=Object(y.a)(b.a.mark((function t(n){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(n),t.next=3,S()({method:"post",url:"/api/signup",data:{email:n.email,password:n.password,first_name:n.first_name,last_name:n.last_name}}).then((function(e){return e.data}));case 3:a=t.sent,console.log(a),a.success&&e({type:"SIGNUP"}),a.user_taken&&e({type:"USERTAKEN"});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}))(L),W=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={loggedIn:n.props.isLoggedIn},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.handleLogout(),this.setState({loggedIn:this.props.isLoggedIn}),console.log(this.state)}},{key:"render",value:function(){return r.a.createElement("div",null,!this.state.isLoggedIn&&r.a.createElement(d.a,{to:"/"}))}}]),t}(r.a.Component);var D=Object(g.b)((function(e){return console.log(e.user),{isLoggedIn:e.user.isLoggedIn}}),(function(e){return{handleLogout:function(){var t=Object(y.a)(b.a.mark((function t(n){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S()({method:"get",url:"/api/logout"}).then((function(e){return e.data}));case 2:a=t.sent,console.log(a),a.isLoggedOut&&e({type:"LOGOUT"});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}))(W),T=n(31),R=n(20),U=n(43);S.a.defaults.withCredentials=!0;var A={query:"",results:[],isLoading:!1};var P=n(21),M=n.n(P),F=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).state={rating:1,rating_custom_icon:6,rating_half_star:3.5,rating_empty_initial:0},e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"onStarClickCustomIcon",value:function(e,t,n){console.log("name: %s, nextValue: %s, prevValue: %s",n,e,t),this.setState({rating_custom_icon:e}),this.props.onChange(e)}},{key:"onStarClickEmptyInitial",value:function(e,t,n){console.log("name: %s, nextValue: %s, prevValue: %s",n,e,t),this.setState({rating_empty_initial:e})}},{key:"render",value:function(){return r.a.createElement("div",{style:{margin:20}},r.a.createElement("div",{style:{fontSize:20}},r.a.createElement(M.a,{name:"app3",starCount:5,value:this.state.rating_custom_icon,onStarClick:this.onStarClickCustomIcon.bind(this),starColor:"#f00",renderStarIcon:function(){return r.a.createElement("span",null,r.a.createElement("i",{class:"fas fa-wine-glass-alt"}))}})))}}]),t}(r.a.Component),B=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e)))._handleSubmit=function(e){e.preventDefault(),n.props.handleSubmit(n.state),n.setState({wine:"",type:"",price:"",shop:"",label:"",comment:"",rating:5},(function(){document.getElementById("wineForm").reset()}))},n._handleWine=function(e){n.setState({wine:e.target.value})},n._handleType=function(e){n.setState({type:e.target.value})},n._handlePrice=function(e){n.setState({price:e.target.value})},n._handleShop=function(e){n.setState({shop:e.target.value})},n._handleLabel=function(e){var t=e.target.files[0];n.setState({label:URL.createObjectURL(t)},(function(){URL.revokeObjectURL(t)}))},n._handleRating=function(e){n.setState({rating:e})},n._handleComment=function(e){n.setState({comment:e.target.value})},n.state={wine:"",type:"",price:"",shop:"",label:"",comment:"",rating:5},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"main-content"},r.a.createElement("h3",null,"Hi Wine-Lover \ud83c\udf77"),r.a.createElement("br",null),r.a.createElement("p",null,"Welcome to Wine-O-Clock - your personal wine rating application!"),r.a.createElement("p",null,"Add the wines you bought to the form below and give them a wine-rating from 1-5, so every time you buy wine, you can look in your app and check if you have already tried it!",r.a.createElement("p",null,'To view all rated wines by all users, you can go to "All rated wines" in the navigation bar. See a wine you want to try? Add it to your favorites list.')),r.a.createElement("h4",null,"And remember: It's Wine-O-Clock somewhere and life is too short to drink shitty wine! Cheers!"),r.a.createElement("br",null),r.a.createElement("p",null,"\ud83d\udc9c Please donate an amount of what you saved, by only buying good wine, to an animal rescue \ud83d\udc9c")),r.a.createElement("div",{className:"wine-form-container"},r.a.createElement("div",{className:"wine-box"},r.a.createElement("form",{onSubmit:this._handleSubmit,id:"wineForm"},r.a.createElement("input",{className:"wine-input",onChange:this._handleWine,value:this.state.wine,placeholder:"Wine"}),r.a.createElement("input",{className:"wine-input",onChange:this._handleType,value:this.state.type,placeholder:"Type"}),r.a.createElement("input",{className:"wine-input",onChange:this._handlePrice,value:this.state.price,placeholder:"Price"}),r.a.createElement("input",{className:"wine-input",onChange:this._handleShop,value:this.state.shop,placeholder:"Bought at"})," ",r.a.createElement("br",null),r.a.createElement("label",{for:"wine-input"},"Upload Wine Label:"),r.a.createElement("br",null),r.a.createElement("input",{type:"file",className:"wine-input-label",accept:"image/png, image/jpeg, image/jpg",onChange:this._handleLabel}),r.a.createElement("input",{className:"wine-input",onChange:this._handleComment,value:this.state.comment,placeholder:"Comments"}),r.a.createElement(F,{className:"wine-glasses",onChange:this._handleRating}),r.a.createElement("input",{type:"submit",value:"Add a new wine",className:"wine-submit"})),0==this.props.loginStatus.isLoggedIn?r.a.createElement(d.a,{to:"/"}):"")))}}]),t}(r.a.Component);S.a.defaults.withCredentials=!0;var G=Object(g.b)((function(e){return{newWines:e.wines,loginStatus:e.user}}),(function(e){return{handleSubmit:function(){var t=Object(y.a)(b.a.mark((function t(n){var a,r,l;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(n),t.next=3,fetch(n.label).then((function(e){return e.blob()}));case 3:return a=t.sent,(r=new FormData).append("wine_label",a),r.append("wine_name",n.wine),r.append("wine_type",n.type),r.append("wine_price",n.price),r.append("wine_store",n.shop),r.append("comments",n.comment),r.append("wine_rating",n.rating),console.log(a),t.next=15,S()({method:"post",url:"/api/wines/create",headers:{"Content-Type":"multipart/form-data"},data:r}).then((function(e){return e.data}));case 15:if(!t.sent.success){t.next=21;break}return t.next=19,S()({method:"get",url:"/api/mywines"}).then((function(e){return console.log(e),e.data.wineList}));case 19:(l=t.sent).length>0&&(console.log("calling dispatch"),e(j(l)));case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}))(B);S.a.defaults.withCredentials=!0;var Y=Object(g.b)((function(e){return{myWineSearchResults:e.wineSearch.results}}),(function(e){return{handleDel:function(){var t=Object(y.a)(b.a.mark((function t(n,a,r){var l;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(n,a,r),t.next=3,S()({method:"post",url:"/api/delete",data:{wine_id:a}}).then((function(e){return e.data}));case 3:l=t.sent,console.log(l.deletedWine),l.deletedWine&&e(N(n,r));case 6:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),handleClearResults:function(){e(k([]))}}}))((function(e){var t=e.myWineSearchResults,n=e.handleClearResults,l=e.handleDel,i=e.doSearch;return Object(a.useEffect)((function(){n()}),[]),console.log("WINESEARCHRESULTS"),t&&t.length>0?t.map((function(e,n){return r.a.createElement("div",{key:"wine-".concat(e.wine_name,"-").concat(n),className:"rated-wine-cards"},r.a.createElement("ul",null,r.a.createElement("div",null,r.a.createElement("div",{className:"wine-name"}," ",e.wine_name),r.a.createElement("li",null,"Type: ",e.wine_type),r.a.createElement("li",null,"Price: ",e.wine_price),r.a.createElement("li",null,"Bought at: ",e.wine_store),r.a.createElement("li",null,"Comments: ",e.comments),r.a.createElement("li",null,r.a.createElement("div",{className:"label-container"},"Wine Label: ",r.a.createElement("img",{src:"/images/".concat(e.wine_label),alt:"wine label"}))),r.a.createElement("li",null,r.a.createElement(M.a,{className:"wine-glasses",name:"app3",starCount:5,value:Number(e.wine_rating),editing:!1,starColor:"#f00",renderStarIcon:function(){return r.a.createElement("span",null,r.a.createElement("i",{class:"fas fa-wine-glass-alt"}))}})),r.a.createElement(p.b,{to:{pathname:"/edit/".concat(e.id),params:{wineId:e.id,wine_name:e.wine_name,wine_type:e.wine_type,wine_price:e.wine_price,wine_store:e.wine_store,comments:e.comments,wine_label:e.wine_label,wine_rating:e.wine_rating}}},r.a.createElement("input",{type:"button",value:"Edit",className:"wine-edit"})),r.a.createElement("input",{type:"button",value:"Delete",className:"wine-edit",onClick:function(){var a=Object(y.a)(b.a.mark((function a(r){return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l(t,e.id,n);case 2:i();case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}))))})):null})),V=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e)))._handleSubmit=function(){var e=Object(y.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&t.preventDefault(),n.props.handleSubmit(n.state.text),console.log(n.state.text);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n._handleChange=function(e){n.setState({text:e.target.value})},n.state={text:"",myWineSearchResults:[]},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){this.state.myWineSearchResults;return r.a.createElement("div",null,r.a.createElement("div",{className:"wine-search-container"},r.a.createElement("div",{className:"wine-search-box"},r.a.createElement("form",{onSubmit:this._handleSubmit},r.a.createElement("input",{className:"wine-input",value:this.state.text,placeholder:"Search",onChange:this._handleChange}),r.a.createElement("button",{className:"wine-search-btn"},"Search")))),r.a.createElement(Y,{doSearch:this._handleSubmit}))}}]),t}(r.a.Component);var H=Object(g.b)(null,(function(e){return{handleSubmit:function(){var t=Object(y.a)(b.a.mark((function t(n){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(n),t.next=3,S()({method:"post",url:"/api/mysearch",data:{searchText:n}});case 3:a=t.sent,console.log(a),console.log(a.data.results),e(C(a.data.wineSearch));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}))(V);S.a.defaults.withCredentials=!0;var q=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e)))._handleDel=function(){var e=Object(y.a)(b.a.mark((function e(t,a,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n.props),t.preventDefault(),e.next=4,n.props.handleDel(n.props.winelist.wines,a,r);case 4:return console.log(n.props),e.next=7,n.props.getWines();case 7:console.log(n.props);case 8:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),n._handleEdit=function(){var e=Object(y.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("we want to redirect");case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.state={winelist:[]},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(y.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(this.props),console.log(this.props.winelist),e.next=4,this.props.getWines();case 4:console.log(this.props.winelist);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return console.log(this.state),console.log(this.props),0===this.props.winelist.wines.length?r.a.createElement("div",{className:"rated-wines-title"},"You have not rated any wines yet"):r.a.createElement("div",null,r.a.createElement("div",{className:"rated-wines-title"},"Search:"),r.a.createElement(H,null),r.a.createElement("div",{className:"rated-wines-title"},"My rated wines:"),r.a.createElement("div",{className:"wine-list-container"},this.props.winelist.wines.map((function(t,n){return r.a.createElement("div",{key:"wine-".concat(t.wine_name,"-").concat(n),className:"rated-wine-cards"},r.a.createElement("ul",null,r.a.createElement("div",null,r.a.createElement("div",{className:"wine-name"}," ",t.wine_name," "),r.a.createElement("li",null,"Type: ",t.wine_type),r.a.createElement("li",null,"Price: ",t.wine_price),r.a.createElement("li",null,"Bought at: ",t.wine_store),r.a.createElement("li",null,"Comments: ",t.comments),r.a.createElement("li",null,r.a.createElement("div",{className:"label-container"},"Wine Label: ",r.a.createElement("img",{src:"/images/".concat(t.wine_label),alt:"wine label"}))),r.a.createElement("li",null,r.a.createElement(M.a,{className:"wine-glasses",name:"app3",starCount:5,value:Number(t.wine_rating),editing:!1,starColor:"#f00",renderStarIcon:function(){return r.a.createElement("span",null,r.a.createElement("i",{class:"fas fa-wine-glass-alt"}))}})),r.a.createElement(p.b,{to:{pathname:"/edit/".concat(t.id),params:{wineId:t.id,wine_name:t.wine_name,wine_type:t.wine_type,wine_price:t.wine_price,wine_store:t.wine_store,comments:t.comments,wine_label:t.wine_label,wine_rating:t.wine_rating}}},r.a.createElement("input",{type:"button",value:"Edit",className:"wine-edit"})),r.a.createElement("input",{type:"button",value:"Delete",className:"wine-edit",onClick:function(a){return e._handleDel(a,t.id,n)}}))))})),0==this.props.loginStatus.isLoggedIn?r.a.createElement(d.a,{to:"/"}):""))}}]),t}(r.a.Component);S.a.defaults.withCredentials=!0;var X=Object(g.b)((function(e){return console.log(e),{winelist:e,loginStatus:e.user}}),(function(e){return{handleDel:function(){var t=Object(y.a)(b.a.mark((function t(n,a,r){var l;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(n,a,r),t.next=3,S()({method:"post",url:"/api/delete",data:{wine_id:a}}).then((function(e){return e.data}));case 3:l=t.sent,console.log(l.deletedWine),l.deletedWine&&e(N(n,a));case 6:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),getWines:function(){var t=Object(y.a)(b.a.mark((function t(){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S()({method:"get",url:"/api/mywines"}).then((function(e){return console.log(e),e.data.wineList}));case 2:(n=t.sent)&&n.length>=0&&(console.log("calling dispatch"),e(j(n)));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}}))(q);S.a.defaults.withCredentials=!0;var J=Object(g.b)((function(e){return{wineSearchResults:e.wineSearch.results}}),(function(e){return{handleDel:function(){var t=Object(y.a)(b.a.mark((function t(n,a,r){var l;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(n,a,r),t.next=3,S()({method:"post",url:"/api/delete",data:{wine_id:a}}).then((function(e){return e.data}));case 3:l=t.sent,console.log(l.deletedWine),l.deletedWine&&e(N(n,r));case 6:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),handleFavorite:function(){var e=Object(y.a)(b.a.mark((function e(t,n){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S()({method:"post",url:"/api/addtofavorites",data:{wine_id:n}}).then((function(e){return e.data}));case 2:a=e.sent,console.log(a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),handleClearResults:function(){e(k([]))}}}))((function(e){var t=e.wineSearchResults,n=e.handleClearResults,l=e.handleFavorite;return Object(a.useEffect)((function(){n()}),[]),console.log(t),console.log("WINESEARCHRESULTS"),t&&t.length>0?t.map((function(e,t){return r.a.createElement("div",{key:"wine-".concat(e.wine_name,"-").concat(t),className:"rated-wine-cards"},r.a.createElement("ul",null,r.a.createElement("div",null,r.a.createElement("div",{className:"wine-name"}," ",e.wine_name," "),r.a.createElement("li",null,"Type: ",e.wine_type),r.a.createElement("li",null,"Price: ",e.wine_price),r.a.createElement("li",null,"Bought at: ",e.wine_store),r.a.createElement("li",null,"Comments: ",e.comments),r.a.createElement("li",null,r.a.createElement("div",{className:"label-container"},"Wine Label: ",r.a.createElement("img",{src:"/images/".concat(e.wine_label),alt:"wine label"}))),r.a.createElement("li",null,r.a.createElement(M.a,{className:"wine-glasses",name:"app3",starCount:5,value:Number(e.wine_rating),editing:!1,starColor:"#f00",renderStarIcon:function(){return r.a.createElement("span",null,r.a.createElement("i",{class:"fas fa-wine-glass-alt"}))}})),r.a.createElement("input",{type:"button",className:"fav-button",value:"\u2764\ufe0f",onClick:function(t){return l(t,e.id)}}))))})):null})),K=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e)))._handleSubmit=function(){var e=Object(y.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n.props.handleSubmit(n.state.text),console.log(n.state.text),n.setState({text:""});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n._handleChange=function(e){n.setState({text:e.target.value})},n.state={text:"",wineSearchResults:[]},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){this.state.wineSearchResults;return r.a.createElement("div",null,r.a.createElement("div",{className:"wine-search-container"},r.a.createElement("div",{className:"wine-search-box"},r.a.createElement("form",{onSubmit:this._handleSubmit},r.a.createElement("input",{className:"wine-input",value:this.state.text,placeholder:"Search",onChange:this._handleChange}),r.a.createElement("button",{className:"wine-search-btn"},"Search")))),r.a.createElement(J,null))}}]),t}(r.a.Component);var z=Object(g.b)((function(e){return{winelist:e}}),(function(e){return{handleSubmit:function(){var t=Object(y.a)(b.a.mark((function t(n){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(n),t.next=3,S()({method:"post",url:"/api/search",data:{searchText:n}});case 3:a=t.sent,console.log(a),console.log(a.data.results),e(k(a.data.wineSearch));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}))(K);S.a.defaults.withCredentials=!0;var Q=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e)))._setSearchText=function(e){n.setState({searchText:e},(function(){console.log("updated search text")}))},n._handleFavorite=function(){var e=Object(y.a)(b.a.mark((function e(t,n){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S()({method:"post",url:"/api/addtofavorites",data:{wine_id:n}}).then((function(e){return e.data}));case 2:a=e.sent,console.log(a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.state={winelist:[]},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(y.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S()({method:"get",url:"/api/wines"}).then((function(e){return e.data}));case 2:t=e.sent,this.setState({winelist:t.wineList});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return console.log(this.props),console.log(this.state.winelist),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",{className:"main-content"},r.a.createElement("div",{className:"main-content"},"Take a look at how other users rated wines."),r.a.createElement("div",{className:"main-content"},"See a wine you like?"),r.a.createElement("div",{className:"main-content"},"Click the \u2764\ufe0f to add a wine to your favorites!"),r.a.createElement("div",{className:"rated-wines-title"},"All rated wines: "))),r.a.createElement("div",null,r.a.createElement(z,null)),r.a.createElement("div",{className:"wine-list-container"},this.state.winelist.map((function(t,n){return r.a.createElement("div",{className:"rated-wine-cards"},r.a.createElement("ul",null,r.a.createElement("div",null,r.a.createElement("div",{className:"wine-name",key:n},t.wine_name,"   "),r.a.createElement("li",{key:n},"Type: ",t.wine_type),r.a.createElement("li",{key:n},"Price: ",t.wine_price),r.a.createElement("li",{key:n},"Bought at: ",t.wine_store),r.a.createElement("li",{key:n},"Comments: ",t.comments),r.a.createElement("li",{key:n},r.a.createElement("div",{className:"label-container"},"Wine Label: ",r.a.createElement("img",{src:"/images/".concat(t.wine_label),alt:"wine label"}))),r.a.createElement("li",{key:n},r.a.createElement(M.a,{className:"wine-glasses",name:"app3",starCount:5,value:Number(t.wine_rating),editing:!1,starColor:"#f00",renderStarIcon:function(){return r.a.createElement("span",null,r.a.createElement("i",{class:"fas fa-wine-glass-alt"}))}})),r.a.createElement("input",{type:"button",className:"fav-button",value:"\u2764\ufe0f",onClick:function(n){return e._handleFavorite(n,t.id)}}))))})),0==this.props.loginStatus.isLoggedIn?r.a.createElement(d.a,{to:"/"}):""))}}]),t}(r.a.Component);var $=Object(g.b)((function(e){return{winelist:e,loginStatus:e.user}}),(function(e){return{handleDel:function(t,n){e(N(t,n))}}}))(Q);S.a.defaults.withCredentials=!0;var Z=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).getFavWine=Object(y.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S()({method:"get",url:"/api/favorites"}).then((function(e){return e.data}));case 2:t=e.sent,n.setState({winelist:t.wineList});case 4:case"end":return e.stop()}}),e)}))),n._handleDel=function(){var e=Object(y.a)(b.a.mark((function e(t,a,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,n.props.handleDel(n.props.winelist.wines,a,r);case 3:n.getFavWine();case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),n.state={winelist:[]},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getFavWine()}},{key:"render",value:function(){var e=this;return console.log(this.props),console.log(this.state.winelist),0===this.state.winelist.length?r.a.createElement("div",null," ",r.a.createElement("div",{className:"rated-wines-title"},"You have not added any wines to your favorites yet"),r.a.createElement("div",{className:"main-content"},"Click here to view all rated wines and select your favorites by clicking the \u2764\ufe0f")):r.a.createElement("div",null,r.a.createElement("div",{className:"rated-wines-title"},"My favorite wines:"),r.a.createElement("div",{className:"wine-list-container"},this.state.winelist.map((function(t,n){return r.a.createElement("div",{className:"rated-wine-cards"},r.a.createElement("ul",null," ",r.a.createElement("div",null,r.a.createElement("div",{className:"wine-name",key:n},t.wine_name,"   "),r.a.createElement("li",{key:n},"Type: ",t.wine_type),r.a.createElement("li",{key:n},"Price: ",t.wine_price),r.a.createElement("li",{key:n},"Bought at: ",t.wine_store),r.a.createElement("li",{key:n},"Comments: ",t.comments),r.a.createElement("li",{key:n},r.a.createElement("div",{className:"label-container"},"Wine Label: ",r.a.createElement("img",{src:"/images/".concat(t.wine_label),alt:"wine label"}))),r.a.createElement("li",{key:n},r.a.createElement(M.a,{className:"wine-glasses",name:"app3",starCount:5,value:Number(t.wine_rating),editing:!1,starColor:"#f00",renderStarIcon:function(){return r.a.createElement("span",null,r.a.createElement("i",{class:"fas fa-wine-glass-alt"}))}})),r.a.createElement("input",{type:"button",value:"Delete",className:"wine-edit",onClick:function(a){return e._handleDel(a,t.id,n)}}))))})),0==this.props.loginStatus.isLoggedIn?r.a.createElement(d.a,{to:"/"}):""))}}]),t}(r.a.Component);S.a.defaults.withCredentials=!0;var ee=Object(g.b)((function(e){return{winelist:function(){var e=Object(y.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S()({method:"get",url:"/api/favorites"}).then((function(e){return console.log(e),e.data}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),loginStatus:e.user}}),(function(e){return{handleDel:function(){var t=Object(y.a)(b.a.mark((function t(n,a,r){var l;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S()({method:"post",url:"/api/deletefavwine",data:{wine_id:a}}).then((function(e){return e.data}));case 2:l=t.sent,console.log(l.deletedWine),l.deletedWine&&e(N(n,a));case 5:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}()}}))(Z),te=n(32),ne=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e)))._handleSubmit=function(e){e.preventDefault(),console.log(n.state.label),console.log(n.state),n.props.handleSubmit(n.state),n.setState({wine:"",type:"",price:"",shop:"",label:"",comment:"",rating:5},(function(){n.props.history.push("/home")}))},n._handleWine=function(e){n.setState({wine:e.target.value})},n._handleType=function(e){n.setState({type:e.target.value})},n._handlePrice=function(e){n.setState({price:e.target.value})},n._handleShop=function(e){n.setState({shop:e.target.value})},n._handleLabel=function(e){n.setState({label:URL.createObjectURL(e.target.files[0])})},n._handleRating=function(e){n.setState({rating:e})},n._handleComment=function(e){n.setState({comment:e.target.value})},n.state={id:"",wine:"",type:"",price:"",shop:"",label:"",comment:"",rating:5},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){if("object"===typeof this.props.location.params){var e,t=this.props.location.params,n=t.wineId,a=t.wine_name,r=t.wine_type,l=t.wine_price,i=t.wine_store,c=t.comments,s=t.wine_label,o=t.wine_rating;this.setState((e={id:n,wine:a,type:r,price:l,shop:i,label:s,comment:c},Object(te.a)(e,"label",s),Object(te.a)(e,"rating",o),e))}}},{key:"render",value:function(){if(console.log(this.props),console.log(typeof this.props.location.params),"object"===typeof this.props.location.params){var e=this.state,t=e.wine,n=e.type,a=e.price,l=e.shop,i=e.label,c=e.comment,s=e.rating;return console.log(this.props.location.params),r.a.createElement("div",null,r.a.createElement("div",{className:"main-content"},r.a.createElement("h3",null,"Edit your wine here \ud83c\udf77"),r.a.createElement("br",null),r.a.createElement("p",null,"Made a mistake? Changed your mind about a certain Wine?"),r.a.createElement("p",null,"No problem! Update your Wine right here!")),r.a.createElement("div",{className:"wine-form-container"},r.a.createElement("div",{className:"wine-box"},r.a.createElement("form",{onSubmit:this._handleSubmit},r.a.createElement("input",{className:"wine-input",onChange:this._handleWine,value:"".concat(t),placeholder:"Wine"}),r.a.createElement("input",{className:"wine-input",onChange:this._handleType,value:"".concat(n),placeholder:"Type"}),r.a.createElement("input",{className:"wine-input",onChange:this._handlePrice,value:"".concat(a),placeholder:"Price"}),r.a.createElement("input",{className:"wine-input",onChange:this._handleShop,value:"".concat(l),placeholder:"Bought at"})," ",r.a.createElement("br",null),r.a.createElement("label",{for:"wine-input"},"Upload Wine Label:"),r.a.createElement("br",null),r.a.createElement("input",{type:"file",className:"wine-input-label",accept:"image/png, image/jpeg, image/jpg",onChange:this._handleLabel}),r.a.createElement("img",{src:"/images/".concat(i),alt:"wine label",className:"label-container"}),r.a.createElement("input",{className:"wine-input",onChange:this._handleComment,value:"".concat(c),placeholder:"Comments"}),r.a.createElement(F,{className:"wine-glasses",onChange:this._handleRating,value:"".concat(s)}),r.a.createElement("input",{type:"submit",value:"Update",className:"wine-submit"})))))}return r.a.createElement(d.a,{to:"/home"})}}]),t}(r.a.Component);S.a.defaults.withCredentials=!0;var ae=Object(g.b)((function(e){return{newWines:e.wines,loginStatus:e.user}}),(function(e){return{handleSubmit:function(){var t=Object(y.a)(b.a.mark((function t(n){var a,r,l;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(n),t.next=3,fetch(n.label).then((function(e){return e.blob()}));case 3:return a=t.sent,(r=new FormData).append("wine_label",a),r.append("id",n.id),r.append("wine_name",n.wine),r.append("wine_type",n.type),r.append("wine_price",n.price),r.append("wine_store",n.shop),r.append("comments",n.comment),r.append("wine_rating",n.rating),console.log(a),t.next=16,S()({method:"post",url:"/api/editwines",headers:{"Content-Type":"multipart/form-data"},data:r}).then((function(e){return e.data}));case 16:if(!t.sent.success){t.next=22;break}return t.next=20,S()({method:"get",url:"/api/mywines"}).then((function(e){return console.log(e),e.data.wineList}));case 20:(l=t.sent).length>0&&(console.log("calling dispatch"),e(j(l)));case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}))(ne),re=Object(T.b)({wines:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=Object(U.a)(e);switch(t.type){case"ADD_WINE":n.push(t.payload.wine);break;case"DEL_WINE":n.splice(t.payload.index,1);break;case"EDIT_WINE":case"GET_PERSONAL_WINES":return t.payload.wines}return n},wineSearch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH":return Object(R.a)({},e,{query:t.payload.query});case"RESULTS":return Object(R.a)({},e,{results:t.payload.wines});case"LOADING":return Object(R.a)({},e,{isLoading:t.payload.isLoading});case"MY_SEARCH":return Object(R.a)({},e,{query:t.payload.query});case"MY_RESULTS":return Object(R.a)({},e,{results:t.payload.wines});case"MY_LOADING":return Object(R.a)({},e,{isLoading:t.payload.isLoading});default:return Object(R.a)({},e)}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoggedIn:!1,isUserTaken:!1,didSignup:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return Object(R.a)({},e,{isLoggedIn:!0});case"SIGNUP":return Object(R.a)({},e,{isUserTaken:!1,didSignup:!0});case"LOGOUT":return Object(R.a)({},e,{isLoggedIn:!1});case"USERTAKEN":return{didSignup:!1,isUserTaken:!0};default:return e}}}),le=Object(T.c)(re,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),ie=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(g.a,{store:le},r.a.createElement(p.a,null,r.a.createElement(v,null),r.a.createElement(d.d,null,r.a.createElement("div",{className:"container-box"},r.a.createElement(d.b,{path:"/",exact:!0},r.a.createElement(x,null)),r.a.createElement(d.b,{path:"/logout",exact:!0},r.a.createElement(D,null)),r.a.createElement(d.b,{path:"/signup"},r.a.createElement(I,null)),r.a.createElement(d.b,{path:"/wines"},r.a.createElement($,null)),r.a.createElement(d.b,{path:"/favorites"},r.a.createElement(ee,null)),r.a.createElement(d.b,{path:"/mywines"},r.a.createElement(X,null)),r.a.createElement(d.b,{path:"/home"},r.a.createElement(G,null),r.a.createElement(X,null)),r.a.createElement(d.b,{path:"/edit",render:function(e){return r.a.createElement(ae,e)}}),r.a.createElement(d.b,null,r.a.createElement(d.a,{to:"/"})))),r.a.createElement(w,null))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(ie,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},62:function(e,t,n){e.exports=n(109)},67:function(e,t,n){},68:function(e,t,n){}},[[62,1,2]]]);
//# sourceMappingURL=main.97ef1cdb.chunk.js.map